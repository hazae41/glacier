{"version":3,"file":"use-interval.mjs","sources":["../../../../../../src/mods/react/hooks/blocks/use-interval.ts"],"sourcesContent":["import { Handle } from \"mods/react/types/handle.js\"\nimport { useEffect } from \"react\"\n\n/**\n * Do a request on interval\n * @see useRetry for error retry\n * @param handle \n * @param options \n */\nexport function useInterval(handle: Handle, interval: number) {\n  const { ready, fetch } = handle\n\n  useEffect(() => {\n    if (!ready) return\n    if (!interval) return\n\n    const i = setInterval(fetch, interval)\n    return () => clearInterval(i)\n  }, [fetch, interval])\n}"],"names":[],"mappings":";;AAGA;;;;;AAKG;AACa,SAAA,WAAW,CAAC,MAAc,EAAE,QAAgB,EAAA;IAClD,IAAA,KAAK,GAAY,MAAM,CAAA,KAAlB,EAAE,KAAK,GAAK,MAAM,CAAA,KAAX,CAAW;AAE/B,IAAA,SAAS,CAAC,YAAA;AACR,QAAA,IAAI,CAAC,KAAK;YAAE,OAAM;AAClB,QAAA,IAAI,CAAC,QAAQ;YAAE,OAAM;QAErB,IAAM,CAAC,GAAG,WAAW,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;QACtC,OAAO,YAAA,EAAM,OAAA,aAAa,CAAC,CAAC,CAAC,CAAA,EAAA,CAAA;AAC/B,KAAC,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAA;AACvB;;;;"}