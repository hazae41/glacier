{"version":3,"file":"use-online.mjs","sources":["../../../../../../src/mods/react/hooks/blocks/use-online.ts"],"sourcesContent":["import { useAutoRef } from \"libs/react.js\"\nimport { Query } from \"mods/react/types/query.js\"\nimport { useEffect } from \"react\"\n\n/**\n * Do a request when the browser is online\n * @param query \n */\nexport function useOnline(query: Query) {\n  const { ready, fetch } = query\n\n  const fetchRef = useAutoRef(fetch)\n\n  useEffect(() => {\n    if (!ready) return\n\n    const f = () => fetchRef.current()\n\n    addEventListener(\"online\", f)\n    return () => removeEventListener(\"online\", f)\n  }, [ready])\n}"],"names":[],"mappings":";;;AAIA;;;AAGG;AACG,SAAU,SAAS,CAAC,KAAY,EAAA;IAC5B,IAAA,KAAK,GAAY,KAAK,CAAA,KAAjB,EAAE,KAAK,GAAK,KAAK,CAAA,KAAV,CAAU;AAE9B,IAAA,IAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,CAAA;AAElC,IAAA,SAAS,CAAC,YAAA;AACR,QAAA,IAAI,CAAC,KAAK;YAAE,OAAM;QAElB,IAAM,CAAC,GAAG,YAAA,EAAM,OAAA,QAAQ,CAAC,OAAO,EAAE,CAAlB,EAAkB,CAAA;AAElC,QAAA,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;QAC7B,OAAO,YAAA,EAAM,OAAA,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAhC,EAAgC,CAAA;AAC/C,KAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAA;AACb;;;;"}