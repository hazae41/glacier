{"version":3,"file":"use-interval.js","sources":["../../../../../../src/mods/react/hooks/blocks/use-interval.ts"],"sourcesContent":["import { Query } from \"mods/react/types/query.js\"\nimport { useEffect } from \"react\"\n\n/**\n * Do a request on interval\n * @see useRetry for error retry\n * @param query \n * @param interval \n */\nexport function useInterval(query: Query, interval: number) {\n  const { ready, fetch } = query\n\n  useEffect(() => {\n    if (!ready) return\n    if (!interval) return\n\n    const i = setInterval(fetch, interval)\n    return () => clearInterval(i)\n  }, [fetch, interval])\n}"],"names":["useEffect"],"mappings":";;;;;;AAGA;;;;;AAKG;AACa,SAAA,WAAW,CAAC,KAAY,EAAE,QAAgB,EAAA;IAChD,IAAA,KAAK,GAAY,KAAK,CAAA,KAAjB,EAAE,KAAK,GAAK,KAAK,CAAA,KAAV,CAAU;AAE9B,IAAAA,eAAS,CAAC,YAAA;AACR,QAAA,IAAI,CAAC,KAAK;YAAE,OAAM;AAClB,QAAA,IAAI,CAAC,QAAQ;YAAE,OAAM;QAErB,IAAM,CAAC,GAAG,WAAW,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;QACtC,OAAO,YAAA,EAAM,OAAA,aAAa,CAAC,CAAC,CAAC,CAAA,EAAA,CAAA;AAC/B,KAAC,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAA;AACvB;;;;"}