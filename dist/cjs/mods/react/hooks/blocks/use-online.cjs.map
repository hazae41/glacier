{"version":3,"file":"use-online.cjs","sources":["../../../../../../src/mods/react/hooks/blocks/use-online.ts"],"sourcesContent":["import { useAutoRef } from \"libs/react.js\"\nimport { Handle } from \"mods/react/types/handle.js\"\nimport { useEffect } from \"react\"\n\n/**\n * Do a request when the browser is online\n * @param handle \n */\nexport function useOnline(handle: Handle) {\n  const { ready, fetch } = handle\n\n  const fetchRef = useAutoRef(fetch)\n\n  useEffect(() => {\n    if (!ready) return\n\n    const f = () => fetchRef.current()\n\n    addEventListener(\"online\", f)\n    return () => removeEventListener(\"online\", f)\n  }, [ready])\n}"],"names":["useAutoRef","useEffect"],"mappings":";;;;;;;AAIA;;;AAGG;AACG,SAAU,SAAS,CAAC,MAAc,EAAA;IAC9B,IAAA,KAAK,GAAY,MAAM,CAAA,KAAlB,EAAE,KAAK,GAAK,MAAM,CAAA,KAAX,CAAW;AAE/B,IAAA,IAAM,QAAQ,GAAGA,gBAAU,CAAC,KAAK,CAAC,CAAA;AAElC,IAAAC,eAAS,CAAC,YAAA;AACR,QAAA,IAAI,CAAC,KAAK;YAAE,OAAM;QAElB,IAAM,CAAC,GAAG,YAAA,EAAM,OAAA,QAAQ,CAAC,OAAO,EAAE,CAAlB,EAAkB,CAAA;AAElC,QAAA,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;QAC7B,OAAO,YAAA,EAAM,OAAA,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAhC,EAAgC,CAAA;AAC/C,KAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAA;AACb;;;;"}