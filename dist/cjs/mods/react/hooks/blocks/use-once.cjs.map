{"version":3,"file":"use-once.cjs","sources":["../../../../../../src/mods/react/hooks/blocks/use-once.ts"],"sourcesContent":["import { Handle } from \"mods/react/types/handle.js\"\nimport { useEffect } from \"react\"\n\n/**\n * Do a request on mount and url change only if there is no data yet\n * @warning Will still try to fetch is there is an error\n * @param handle \n * @example You want to get some data once and share it in multiple components\n */\nexport function useOnce(handle: Handle) {\n  const { data, fetch } = handle\n\n  useEffect(() => {\n    if (data === undefined) fetch()\n  }, [data, fetch])\n}"],"names":["useEffect"],"mappings":";;;;;;AAGA;;;;;AAKG;AACG,SAAU,OAAO,CAAC,MAAc,EAAA;IAC5B,IAAA,IAAI,GAAY,MAAM,CAAA,IAAlB,EAAE,KAAK,GAAK,MAAM,CAAA,KAAX,CAAW;AAE9B,IAAAA,eAAS,CAAC,YAAA;QACR,IAAI,IAAI,KAAK,SAAS;AAAE,YAAA,KAAK,EAAE,CAAA;AACjC,KAAC,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAA;AACnB;;;;"}