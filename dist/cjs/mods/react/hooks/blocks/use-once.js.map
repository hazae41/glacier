{"version":3,"file":"use-once.js","sources":["../../../../../../src/mods/react/hooks/blocks/use-once.ts"],"sourcesContent":["import { Query } from \"mods/react/types/query.js\"\nimport { useEffect } from \"react\"\n\n/**\n * Do a request on mount and url change only if there is no data yet\n * @warning Will still try to fetch is there is an error\n * @param query \n * @example You want to get some data once and share it in multiple components\n */\nexport function useOnce(query: Query) {\n  const { data, fetch } = query\n\n  useEffect(() => {\n    if (data === undefined) fetch()\n  }, [data, fetch])\n}"],"names":["useEffect"],"mappings":";;;;;;AAGA;;;;;AAKG;AACG,SAAU,OAAO,CAAC,KAAY,EAAA;IAC1B,IAAA,IAAI,GAAY,KAAK,CAAA,IAAjB,EAAE,KAAK,GAAK,KAAK,CAAA,KAAV,CAAU;AAE7B,IAAAA,eAAS,CAAC,YAAA;QACR,IAAI,IAAI,KAAK,SAAS;AAAE,YAAA,KAAK,EAAE,CAAA;AACjC,KAAC,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAA;AACnB;;;;"}