{"version":3,"file":"router.cjs","sources":["../../../../../../src/mods/react/hooks/handles/router.ts"],"sourcesContent":["import { ScrollSchema } from \"mods/scroll/schema.js\";\nimport { SingleSchema } from \"mods/single/schema.js\";\nimport { Schema } from \"mods/types/schema.js\";\nimport { DependencyList, useMemo } from \"react\";\nimport { ScrollHandle, useScroll } from \"./scroll.js\";\nimport { SingleHandle, useSingle } from \"./single.js\";\n\nexport function use<D = any, E = any, K = any, L extends DependencyList = []>(\n  factory: (...deps: L) => SingleSchema<D, E, K>,\n  deps: L\n): SingleHandle<D, E, K>\n\nexport function use<D = any, E = any, K = any, L extends DependencyList = []>(\n  factory: (...deps: L) => ScrollSchema<D, E, K>,\n  deps: L\n): ScrollHandle<D, E, K>\n\nexport function use<D = any, E = any, K = any, L extends DependencyList = []>(\n  factory: (...deps: L) => Schema<D, E, K>,\n  deps: L\n) {\n  const schema = useMemo(() => {\n    return factory(...deps)\n  }, deps)\n\n  if (schema instanceof SingleSchema) {\n    const { key, fetcher, params } = schema\n    return useSingle(key, fetcher, params)\n  }\n\n  if (schema instanceof ScrollSchema) {\n    const { scroller, fetcher, params } = schema\n    return useScroll(scroller, fetcher, params)\n  }\n\n  throw new Error(\"Invalid resource schema\")\n}"],"names":["schema","useMemo","__spreadArray","__read","SingleSchema","useSingle","ScrollSchema","useScroll"],"mappings":";;;;;;;;;;;AAiBgB,SAAA,GAAG,CACjB,OAAwC,EACxC,IAAO,EAAA;IAEP,IAAMA,QAAM,GAAGC,aAAO,CAAC,YAAA;QACrB,OAAO,OAAO,CAAI,KAAA,CAAA,KAAA,CAAA,EAAAC,mBAAA,CAAA,EAAA,EAAAC,YAAA,CAAA,IAAI,CAAC,EAAA,KAAA,CAAA,CAAA,CAAA;KACxB,EAAE,IAAI,CAAC,CAAA;IAER,IAAIH,QAAM,YAAYI,mBAAY,EAAE;AAC1B,QAAA,IAAA,GAAG,GAAsBJ,QAAM,CAAA,GAA5B,EAAE,OAAO,GAAaA,QAAM,CAAA,OAAnB,EAAE,MAAM,GAAKA,QAAM,OAAX,CAAW;QACvC,OAAOK,gBAAS,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,CAAA;AACvC,KAAA;IAED,IAAIL,QAAM,YAAYM,qBAAY,EAAE;AAC1B,QAAA,IAAA,QAAQ,GAAsBN,QAAM,CAAA,QAA5B,EAAE,OAAO,GAAaA,QAAM,CAAA,OAAnB,EAAE,MAAM,GAAKA,QAAM,OAAX,CAAW;QAC5C,OAAOO,gBAAS,CAAC,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC,CAAA;AAC5C,KAAA;AAED,IAAA,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAA;AAC5C;;;;"}